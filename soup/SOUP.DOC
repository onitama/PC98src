
	soup : sequential output control processor
	｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢｢

					copyright 1993 (c) onion software
					cooperated subroutines from :
						xkd laboratory and T.anazawa

------------------------------------------------------------------------------

・soupは…

	soup( ｽｰﾌﾟﾌﾟﾛｾｯｻ )は画像データの表示や音楽の演奏を統合的に管理す
	るデモシーケンス制御用のインタプリタです。PC9801のグラフィック画
	面を使用したデモ、簡易アニメーション、画面レイアウトのテストなど
	に利用するために開発されたものです。
	soupは以下のような特徴があります。

	　・簡単な命令セットと、即実行できる手軽さ
	　・豊富な画面モード(640x400,320x200,160x100)をサポート
	　・擬似スプライト，BGによる拡大、縮小、回転が可能
	　・多数のオブジェクト(物体)を同時に管理する強力なアニメーション
	　　コントロールシステムを搭載
	　・MAG,RGB,ASK,QPなどの画像形式に対応
	　・MUSIC LALFの音楽オブジェクトファイルをそのまま使用可能


・実行させるには…

	ソースファイルと、データファイルを同じディレクトリに置いておいた
	状態でコマンドラインから、

		soup filename [ return ]

	と入力することで、プログラムが実行されます。
	この時、空きメモリが標準で400K程必要ですので、なるべくメインメモリ
	をあけておきましょう。
	データファイルの拡張子は必ず ".DS" もしくは ".ES" になります。


・コマンドラインオプション

		soup オプション filename [ return ]

	とすることで、機能を変更することができます。
	オプションは複数指定することができます。

		/H	SOUP.EXEについての説明が表示されます
		/Bxxx	画像用バッファのサイズを変更します。(256K)
		/Mxxx	音楽用バッファのサイズを変更します。(8K)
		/Sxxx	ソースバッファのサイズを変更します。(16K)

		/B,/M,/SはxxxにK単位でサイズを指定します。通常はカッコ
		内の値に指定されています。
		ソースバッファとは、プログラムテキストが書かれている
		拡張子が ".DS" のファイルを置いておく領域です。ファイルの
		サイズをロードできるだけの領域が必要です。


・SOUPの用途

	アイデア次第で色々な場面で使用できます。

	　・ＣＧ集、音楽集の作成
	　・ゲームのオープニング、タイトル、エンディングなどに
	　・複数のファイルから１つを選んで実行させるメニュープログラムに
	　・店頭や即売会でのデモンストレーション
	　・学園祭での案内、展示などに
	　・画面レイアウトの試作
	　・キャラクタデータ作成、変換などに

	とは言え、通常はあまり使うものではありません(^^)。Ｃでプログラムを
	組むのは面倒だけど、手軽にできるならやる…程度のことを支援するため
	のソフトだと思ってね。


・ソースファイルの作り方

	ソースファイル（プログラム）は命令と実行の順序を記したものです。
	ソースファイルはMS-DOSのテキストエディタで作成します。
	CやBASICと同じく、命令はファイルの先頭から順に実行されていきます。
	命令と命令の間に、:(ｺﾛﾝ)を入れることで1行に複数の命令を書くことも
	できます。また、1行の中で;(ｾﾐｺﾛﾝ)以降はコメントとみなし無視されます。
	*(ｱｽﾀﾘｽｸ)の後に数値を書くことでラベルを示します。これはプログラム内の
	特定の場所を示すためのもので、*0～*49 までのラベルを書くことができま
	す。1行の中でラベルの後には命令を置かないようにして下さい。


・命令の書き方

	命令にはBASICライクなプログラム制御命令と、基本的な入出力を行なうため
	の基本命令、アニメーションなどのコントロールをするプロセッサ制御命令が
	あります。命令の詳細は、SOUP.REFファイルを参照して下さい。
	プログラム制御命令は下のような、プログラムの流れを制御するための命令
	群です。

	//	goto *label		指定ラベルにジャンプ
	//	gosub *label		指定ラベルにサブルーチンジャンプ
	//	return			サブルーチンから復帰
	//	if p1			条件を満たしていればその行の命令を実行
	//	repeat			ループの始まりの場所を示す
	//	loop			ループの始まりに戻る
	//	run "filename"		指定したsoupのファイルに制御を移す
	//	exec "filename"		MS-DOSのファイルを実行する
	//	end			プログラム終了

	基本的な命令は下の通りです、

	//	print "str"		テキストにメッセージ表示
	//	chkdat p1,"str"		テキストにメッセージと数値を表示
	//	locate x,y		テキストのカーソル位置を指定
	//	keywait			スペースキーが押されるのを待つ
	//	inkey p1,p2		p1～p2の範囲のキーが押されるまで待つ
	//	escape p1		[ESC]で中断するかどうかを設定する
	//	%p1=p2			変数%p1にp2を代入

	アニメーションなどのコントロールをするプロセッサ制御命令は下の
	通りです。

	//	cls p1,p2		グラフィック画面クリア
	//	screen p1,p2,p3		グラフィック画面設定
	//	color p1,p2,p3,p4	文字表示色設定
	//	width p1,p2,x,y,x2,y2	ドットモード設定
	//	page p1,p2		表示ページ設定
	//	gprt x,y,"str"		グラフィック画面メッセージ表示
	//	contrast p1,p2		パレット輝度設定
	//	palette p1,p2,p3	パレット設定
	//	palwait			パレット変化待ち
	//	pause p1		時間待ち
	//	speed p1		標準表示スピード設定
	//	scroll p1,p2,p3		グラフィック画面スクロール

	//	music "file",p1		MLOファイル読み込み
	//	mplay p1		音楽演奏スタート
	//	mstop p1		音楽演奏ストップ

	//	mono			モノクロモード
	//	rgb "file"		RGBファイル読み込み
	//	mag "file",x,y		MAGファイル表示
	//	aska "file",x,y		ASKファイル表示
	//	magcel "file",p1,p2	MAGファイルバッファ読み込み
	//	qp "file",x,y		QPファイル読み込み
	//	anime p1,p2,p3,p4	アニメーション表示
	//	wdraw p1,p2,p3		WPDモード画面表示
	//	wmove p1,p2		object移動表示
	//	wcheck p1,p2,p3		object移動終了まで表示
	//	wset p1,p2,x,y,p3,p4,p5,p6,p7,p8	新規object設定
	//	wact p1,p2,p3,p4,p5,p6,p7		object変化設定
	//	wprm p1,p2,p3				objectパラメータ設定
	//	wenv p1,p2,p3,p4,p5			object移動設定
	//	wgo p1,x,y,p2,p3,p4			object座標移動
	//	wget p1,p2,p3,x,y	画面CEL取り込み
	//	pcopy p1,x,y		ページ間コピー
	//	gcopy p1,x,y,sx,sy,p2,x2,y2		ページ間矩形コピー
	//	mcopy p1,p2,p3		マスク合成コピー
	//	mask p1			マスク画面作成
	//	get x,y,sx,sy,p1	合成CHR取り込み
	//	put x,y,sx,sy,p1	CHR合成（手前）
	//	mput x,y,sx,sy,p1	CHR合成（奥）
	//	lget x,y,sx,sy,p1,p2	CHR取り込み
	//	lput x,y,sx,sy,p1,p2	CHR表示


・配布条件

	SOUP.EXE本体は自由に通信などで配布、同人ソフトでの領布が可能です。
	ただし、SOUP.EXE,SOUP.DOC,SOUP.REFの改変をしないこと、ソフトへの組み
	込みの際にはオリジナルのデータを使用することが条件です。
	また、雑誌・書籍等での紹介、市販ソフトでの使用は、必ず下記の連絡先
	まで御相談ください。
	本プログラムの著作権はonion softwareにあります。
	onion softwareは本プログラムによって生じた、いかなる損害についても保証
	いたしません。自己の責任の範囲で使用してください。

	このソフトは、Borland InternationalのTrubo C++でコンパイルされて
	います。MAGフォーマットの読み込みは、MAGBIBLE.DOC (By Woody RINN)
	を参考にさせていただきました。


・連絡先

				address : 〒152 東京都目黒区洗足2-23-4-102
							    onion software
				e-mail  : 東京BBS ( ONITAMA )
					  セタネット ( SCL70556 )




	ＧＤＣを使った２画面スクロールプログラム(SC_UD.COM)
	


　SC_UP.COMの新版です。今度は下へスクロールすることもできます。


　ＭＳ−ＤＯＳ以外からの使用を考えて、ＣＯＭ形式のものを作りました。
　ＭＳ−ＤＯＳからの使用法と、それ以外の場合では使用法が異なりますので、
それぞれに対応した使用法をご覧下さい。

【１】ＭＳ−ＤＯＳから

　ＣＯＭ形式なので、実行すればそのまま終わります。
　コマンドラインからの指定はサポートしていませんので、１ドット毎の
４００ラインスクロール以外は出来ません。
　また、強制的に裏画面の内容を表画面に書いて画面を直しています。
　もしも必要が有ればソースを書き直してください。
　表画面から裏画面への転送は同包のTRANS.EXEをご使用下さい。

【２】それ以外のＯＳから。（ＤＯＳ−ＢＡＳＩＣを含む）

　ＣＯＭ形式なので、セグメントオフセット100hからプログラムをロードして
ください。
　次にプログラムエントリーとワークエリアの説明をします。

■プログラムエントリー
100h	MS-DOSからCOMファイルとしてじっこうされる時用のエントリーです。
	使用しないで下さい。
103h	SCROLLプログラム本体です。10Ch/10Eh/110hを参照します。
106h	裏画面のデータを表画面に転送して、画面を正常に戻します。
	SCROLLプログラムに続けて表画面で何かを表示したい場合に
	使用してください。
	但し、４００ラインスクロールさせた時のみ使用可能です。
109h	表画面から裏画面へ転送します。
	裏画面に描画の方法がない場合にご使用下さい。

■ワークエリア（全てワード単位）
10Ch/10Dh
	１回にスクロールする幅です。
	０にすると無限ループに入るので注意してください。
	また、最大は９です。それ以上を指定すると、画面が
	壊れます。
10Eh/10Fh
	最終的にスクロールさせる幅です。
	通常は400で使用して下さい。
	それ以外の場合は、エントリー106hが使用できません。
110h/111h
	スクロールする方向です。0で上へ、それ以外で下へ
	スクロールします。
	
■プログラム専有エリア
　当プログラムはセグメントオフセット100hから約８ＫＢ使用します。
　正確にはプログラム終端から３２０バイトのワーク（転送用バッファ）
を持っています。
　スタックポインターの初期化は行っておりませんので、必要が有れば
各自で行ってください。
　SPを2000hに設定すればかなり余裕をもって実行可能です。
　また、セグメントオフセット０〜０ＦＦｈは使用していないので、
ここにプログラムを書くことも可能です。

■注釈
　プログラムサイズを小さくするため、エラー対策は殆ど行っておりません。
　ワークエリアの設定ミスにはご注意下さい。
　ＧＤＣは２．５Ｍでも５Ｍでも動作します。

■SC_UP.COMからの変更点
１．下へスクロールさせることが出来る。
２．スクロール幅の設定チェックを外した。
３．プログラムサイズが少し小さくなった。
４．TRANS.EXEを実行した直後だと画面がおかしくなるバグを修正。

＝＝＝＝＝＝＝＝＝＝＝＝文責・プログラム作成＝＝＝＝＝＝＝＝＝＝＝＝
　竹内　信和（ＸＫＤ）

